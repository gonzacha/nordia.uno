(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{4583:function(e,a,t){Promise.resolve().then(t.bind(t,1158))},1158:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return r}});var s=t(7437),o=t(3810),n=t(2265),i=t(7648);let l=[{username:"juan.perez",dni:"12345678",nombre:"Juan P\xe9rez",dias_mora:45,monto_deuda:15000.5,excepcion:!1,telefono:"+5493794123456",estado:"activo"},{username:"maria.gonzalez",dni:"23456789",nombre:"Mar\xeda Gonz\xe1lez",dias_mora:32,monto_deuda:8500.25,excepcion:!1,telefono:"",estado:"activo"},{username:"carlos.martinez",dni:"34567890",nombre:"Carlos Mart\xednez",dias_mora:67,monto_deuda:22e3,excepcion:!1,telefono:"+5493794234567",estado:"activo"},{username:"ana.rodriguez",dni:"45678901",nombre:"Ana Rodr\xedguez",dias_mora:15,monto_deuda:5500.75,excepcion:!0,telefono:"+5493794345678",estado:"activo"},{username:"luis.fernandez",dni:"56789012",nombre:"Luis Fern\xe1ndez",dias_mora:89,monto_deuda:35e3,excepcion:!1,telefono:"",estado:"activo"},{username:"patricia.ruiz",dni:"89012345",nombre:"Patricia Ruiz",dias_mora:34,monto_deuda:12500,excepcion:!1,telefono:"+5493794567890",estado:"activo"},{username:"carmen.silva",dni:"01234567",nombre:"Carmen Silva",dias_mora:41,monto_deuda:16800.75,excepcion:!1,telefono:"",estado:"activo"},{username:"miguel.vargas",dni:"33333333",nombre:"Miguel Vargas",dias_mora:125,monto_deuda:45000.25,excepcion:!1,telefono:"",estado:"activo"},{username:"natalia.romero",dni:"66666666",nombre:"Natalia Romero",dias_mora:56,monto_deuda:19500.3,excepcion:!1,telefono:"",estado:"activo"}];function r(){let[e,a]=(0,n.useState)(l),[t,r]=(0,n.useState)("simulacion"),[d,c]=(0,n.useState)(!1),[m,x]=(0,n.useState)(0),[u,h]=(0,n.useState)(""),[p,b]=(0,n.useState)({procesados:0,cortados:0,protegidos:0,total:0}),g=e.filter(e=>e.dias_mora>=30&&!e.excepcion),j=()=>{a(l.map(e=>({...e,estado:"activo"}))),x(0),h(""),b({procesados:0,cortados:0,protegidos:0,total:0})},N=async()=>{if(d)return;c(!0),j();let t=g.length;for(let s=0;s<t;s++){let o=g[s];h(o.nombre),a(e=>e.map(e=>e.username===o.username?{...e,estado:"procesando"}:e)),await new Promise(e=>setTimeout(e,1200)),a(e=>e.map(e=>e.username===o.username?{...e,estado:"cortado"}:e)),x((s+1)/t*100),b({procesados:s+1,cortados:s+1,protegidos:e.filter(e=>e.excepcion).length,total:e.length})}h(""),c(!1)};return(0,s.jsx)("div",{className:"min-h-screen bg-slate-950 text-white p-6",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,s.jsxs)(i.default,{href:"/",className:"inline-flex items-center gap-2 text-slate-400 hover:text-white mb-4 transition-colors",children:[(0,s.jsx)("span",{children:"←"})," Volver al Dashboard"]}),(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"\uD83C\uDFAE Simulador de Cortes por Mora"}),(0,s.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl",children:"Simul\xe1 c\xf3mo funciona nuestro sistema de gesti\xf3n autom\xe1tica de morosos con datos CSV reales. Eleg\xed entre modo simulaci\xf3n (seguro) o ejecuci\xf3n real."})]}),(0,s.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:()=>r("simulacion"),disabled:d,className:"px-6 py-3 rounded-xl font-medium transition-all ".concat("simulacion"===t?"bg-blue-500 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"," ").concat(d?"opacity-50 cursor-not-allowed":""),children:"\uD83D\uDD0D Modo Simulaci\xf3n"}),(0,s.jsx)("button",{onClick:()=>r("real"),disabled:d,className:"px-6 py-3 rounded-xl font-medium transition-all ".concat("real"===t?"bg-red-500 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"," ").concat(d?"opacity-50 cursor-not-allowed":""),children:"\uD83D\uDD25 Modo Ejecuci\xf3n Real"})]})}),(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-slate-900/60 rounded-xl p-4 ring-1 ring-white/10",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-emerald-400",children:p.procesados}),(0,s.jsx)("div",{className:"text-sm text-slate-400",children:"Procesados"})]}),(0,s.jsxs)("div",{className:"bg-slate-900/60 rounded-xl p-4 ring-1 ring-white/10",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-400",children:p.cortados}),(0,s.jsx)("div",{className:"text-sm text-slate-400",children:"Cortados"})]}),(0,s.jsxs)("div",{className:"bg-slate-900/60 rounded-xl p-4 ring-1 ring-white/10",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:p.protegidos}),(0,s.jsx)("div",{className:"text-sm text-slate-400",children:"Protegidos"})]}),(0,s.jsxs)("div",{className:"bg-slate-900/60 rounded-xl p-4 ring-1 ring-white/10",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-slate-300",children:p.total}),(0,s.jsx)("div",{className:"text-sm text-slate-400",children:"Total Clientes"})]})]}),d&&(0,s.jsxs)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6",children:[(0,s.jsx)("div",{className:"bg-slate-800 rounded-full h-3 mb-2",children:(0,s.jsx)(o.E.div,{className:"bg-gradient-to-r from-emerald-500 to-blue-500 h-3 rounded-full",initial:{width:0},animate:{width:"".concat(m,"%")},transition:{duration:.3}})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("span",{className:"text-slate-300",children:[Math.round(m),"% completado"]}),u&&(0,s.jsxs)("span",{className:"text-emerald-400 ml-4",children:["Cliente actual: ",u]})]})]}),(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mb-8",children:[(0,s.jsx)("button",{onClick:N,disabled:d,className:"text-xl px-8 py-4 rounded-xl font-bold transition-all transform hover:scale-105 ".concat(d?"bg-slate-700 text-slate-400 cursor-not-allowed":"real"===t?"bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white shadow-lg":"bg-gradient-to-r from-blue-500 to-emerald-500 hover:from-blue-600 hover:to-emerald-600 text-white shadow-lg"),children:d?(0,s.jsxs)("span",{className:"flex items-center gap-3",children:[(0,s.jsx)(o.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full"}),"PROCESANDO..."]}):"\uD83C\uDFAE ".concat("real"===t?"EJECUTAR":"SIMULAR"," CORTES POR MORA")}),!d&&(0,s.jsx)("button",{onClick:j,className:"ml-4 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg transition-colors",children:"\uD83D\uDD04 Reiniciar"})]}),(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-slate-900/60 rounded-xl p-6 ring-1 ring-white/10 overflow-x-auto",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\uD83D\uDCCA Estados de Clientes en Tiempo Real"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,s.jsx)("th",{className:"text-left p-3",children:"Cliente"}),(0,s.jsx)("th",{className:"text-left p-3",children:"D\xedas Mora"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Deuda"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Estado"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Protecci\xf3n"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)(o.E.tr,{className:"border-b border-slate-800",animate:"procesando"===e.estado?{scale:[1,1.02,1]}:{},transition:{duration:1,repeat:"procesando"===e.estado?1/0:0},children:[(0,s.jsx)("td",{className:"p-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.nombre}),(0,s.jsx)("div",{className:"text-xs text-slate-400",children:e.username})]})}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsxs)("span",{className:e.dias_mora>=30?"text-red-400 font-medium":"text-slate-300",children:[e.dias_mora," d\xedas"]})}),(0,s.jsxs)("td",{className:"p-3 font-mono",children:["$",e.monto_deuda.toLocaleString()]}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("activo"===e.estado?"bg-emerald-500/20 text-emerald-400":"procesando"===e.estado?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"),children:"activo"===e.estado?"✅ ACTIVO":"procesando"===e.estado?"\uD83D\uDD04 PROCESANDO":"❌ CORTADO"})}),(0,s.jsx)("td",{className:"p-3",children:e.excepcion?(0,s.jsx)("span",{className:"text-amber-400 font-medium",children:"\uD83D\uDEE1️ PROTEGIDO"}):e.dias_mora>=30?(0,s.jsx)("span",{className:"text-red-400",children:"\uD83C\uDFAF PARA CORTE"}):(0,s.jsx)("span",{className:"text-slate-400",children:"—"})})]},e.username))})]})})]})]})})}}},function(e){e.O(0,[423,971,117,744],function(){return e(e.s=4583)}),_N_E=e.O()}]);